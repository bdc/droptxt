<html>
  <head>
    <title>Text Sync</title>
    <link rel="stylesheet" href="https://material.angularjs.org/docs.css">
    <link rel="stylesheet" href="/s/app.css">
    <link href='https://fonts.googleapis.com/css?family=Cutive+Mono' rel='stylesheet' type='text/css'>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular-route.min.js"></script>
    <script src="https://material.angularjs.org/docs.js"></script>
    <script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="1e7x9cnd3mlnw7p"></script>
    <script src="/s/app.js"></script>
  </head>
  <body>
    <div ng-app="text-sync" ng-controller="appCtrl" layout="vertical">

      <material-toolbar class="material-theme-dark">
        <h1 class="material-toolbar-tools">
          Text Sync
          <material-button
              class="material-button-fab material-theme-light-blue"
              style="position: absolute; top: 36px; right: 18px;"
              ng-click="pickFiles()">+</material-button>
        </h1>
      </material-toolbar>
      <material-content>
        <material-tabs>
          <material-tab label="{{tab.name}}" ng-repeat="tab in tabs">
            <div tabbed-file tab="tab"></div>
          </material-tab>
        </material-tabs>
      </material-content> 

      <script type="text/ng-template" id="tabbed-file.html">
        <div>
          <div class="material-whiteframe-z2"
              layout="vertical" layout-align="center center"
              style="position: fixed; right: 0px; margin: 10px;">
            <div toolbar-button ng-click="monospace = !monospace">font</div>
            <div toolbar-button ng-click="reload()">reload</div>
            <div toolbar-button ng-click="commit()">commit</div>
          </div>
          <div layout="vertical">
            <div ng-show="error">Error.</div>
            <div ng-show="!loaded && !error">Loading...</div>
            <div ng-show="loaded && !error">
              <textarea ng-class="{monospace: monospace}"
                  style="width: 100%; height: 80%; line-height: 14px; border-width: 0px;"
                  ng-model="content"></textarea>
          </div>
        </div>
      </script>

      <script type="text/ng-template" id="toolbar-button.html">
        <div style="padding: 5px; cursor: pointer;">
          <material-button><span ng-transclude></span></material-button>
        </div>
      </script>

    </div>
  </body>
</html>

